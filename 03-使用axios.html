<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <button id="axios_get">axios原生请求</button>
  <button id="my_axios_get">my_axios请求</button>

  <script src="https://cdn.bootcdn.net/ajax/libs/axios/1.3.4/axios.js"></script>
  <script>
    axios.interceptors.request.use((config) => {
      console.log('请求拦截器')
      return config
    })
    axios.interceptors.response.use((config) => {
      console.log('响应拦截器')
      return config
    })

    document.querySelector('#axios_get').onclick = async function() {
      // axios.get('http://ajax-api.itheima.net/api/settings').then(res => console.log(res))

      // axios({
      //   method: 'GET',
      //   url: 'http://ajax-api.itheima.net/api/settings'
      // }).then(res => console.log(res))
      
      const data = await axios({
        method: 'GET',
        url: 'http://ajax-api.itheima.net/api/settings'
      })
      console.log(data)
    }
  </script>

  <script src="./03-toy_axios.js"></script>
  <script>
    myAxios.interceptors.request.use(config => {
      console.log('我的请求拦截器')
      return config
    })
    myAxios.interceptors.response.use(config => {
      console.log('我的响应拦截器')
      return config
    })

    document.querySelector('#my_axios_get').onclick = async function() {
      // myAxios({
      //   method: 'GET',
      //   url: 'http://ajax-api.itheima.net/api/settings'
      // }).then(res => console.log(res))

      // myAxios.get('http://ajax-api.itheima.net/api/settings').then(res => console.log(res))
 
      const data = await myAxios({
        method: 'GET',
        url: 'http://ajax-api.itheima.net/api/settings'
      })
      console.log(data)
    }
    
  </script>

</body>
</html>